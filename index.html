<!DOCTYPE HTML>
<html ng-app="gameApp">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Lifeboat</title>

	<link rel="stylesheet" type="text/css" href="css/main.css" />
	
	<script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.5/angular.min.js"></script>
		
	<script src="js/gameApp.js"></script>
	<script src="js/gameController.js"></script>
	
</head>
<body ng-controller="gameController" ng-keyup="keyup($event)" ng-class="isDay() ? 'day' : 'night'">

	<div style="float:left; margin-right: 20px;">
		<textarea style="width: 300px; height: 500px;" id="log">{{getFlattenedLog()}}</textarea>
	</div>

	<div>
		<div>{{getTimePeriod()}}<br />
		Survivors ({{survivors.length}}):</div>
		<div ng-repeat="survivor in survivors">
			<button ng-click="voteKill(survivor.name);" ng-disabled="!canVoteKill()">Vote</button>
			{{survivor.name}}
			<span ng-show="countVotes(survivor.name) > 0"><b>{{countVotes(survivor.name)}} votes</b></span>
			<span ng-show="survivor.isSleeping">(sleeping)</span>
		</div>
		
		<p>Rations left: {{rations}}<br />
		Days until starvation: {{daysOfRationsRemaining()}}<br />
		Days until rescue: {{daysRemaining}}<br />
		Number of killings required for everyone else to survive: {{numberOfKillingsRequiredForEveryoneElseToSurvive()}}<br />
		{{votesRequiredToThrowSomeoneOverboard()}} votes are required to throw someone overboard.</p>
		
		<p>
			<button ng-click="advanceTime()">End {{isDay() ? 'day' : 'night'}}</button>
			<button ng-click="clearLog()">Clear log</button>
			<button ng-click="stayAwake()" ng-disabled="!isDay()">Stay awake</button>
		</p>
		
	</div>

</body>
</html>
